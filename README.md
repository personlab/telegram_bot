Привет, этот проект представляет собой чат-бота на Python.

Что есть в этом боте, реферальная система, при регистрации вы получаете в профиле регистрационную ссылку. Подсчет регистраций по ссылке общий не только по первой линии. Скидка автоматически высчитывается из стоимости товара. Узнать больше о скидках вы можете в личном профиле после регистрации. Регистрация с подтверждением через почту. Есть витрина, магазин, можете создавать свои категории товара, выкладывать товар и продавать, через чат бот. Административная панель команда `/Загрузить` далее просто следуем подсказкам, `/Отмена` если на каком-то этапе хотите отменить и `/Удалить` удаление товара из магазина. 

Для оплаты товаров в магазине используйте данные тестовой карты: 1111 1111 1111 1026, 12/22, CVC 000.
В данном примере, оплата через сервис онлайн платежей YOOkassa. 

После оплаты товара клиент получает сообщение о покупке товара на email указанный при регистрации. Магазин отображает название категорий и количество товаров в них. При открытии категории, отображение фото товара, название категории, название товара, описание, цена, количество. 
Команда к административной панели чат-бота `/moderator` написать в чате привязанный к боту, бот должен быть администратором и иметь все права. 

Полная синхронизация с Google таблицами. Вы всегда можете отследить время регистрации, время покупки и остаток товара зайдя в таблицу. При нулевом остатке товар удаляется из таблицы.

Возможность скачивать базу данных, в формате Excel в любое время по необходимости. Три базы данных, зарегистрированные, остатки по товарам, покупки. Административная панель команда `FileBase`

Возможность менять приветственные сообщение в чатах при вступлении нового пользователя. 

Через бот можно писать посты и публиковать их в чате от имени бота. Редактирование поста для чата `/ChatText` она есть в меню бота. Доступна команда только для тех кто является модератором, причем не глобальным модератором. Взять на себя обязанности администрирования можно в административной панели бота командой `Set moderator`. 

При администрировании чата, бот фильтрует текст на запрещенный контент в данном случае это, маты.



Также настроен webhook для получения обновлений от Telegram API.

Подписка на рассылки о новых появившихся товарах. Получают все, кто подписался на рассылки в настройках профиля.

Ссылка на бот: https://t.me/SamKebabBot
Google таблицы: https://docs.google.com/spreadsheets/d/14z7iCRZ7CLp1f9YYV-ivY4uyerRG6-5S89lP52HyLWw/

## **Запуск проекта**

Установите зависимости в файле `pip install -r requirements.txt`
Укажите свои данные в файле `.env`

Настройте свой проект https://console.cloud.google.com/ и получите файл .json для синхронизации с google таблицами.

Если вы будете запускать бот через виртуальное окружение в PyCharm, думаю у вас не возникнет проблем.

Если будете запускать на хостинге через tmux, то возможно такой порядок выполнения запуска виртуального окружения поможет: 

Зайти в tmux командой tmux

Перейти в нужную папку командой: [personbk@onar ~]$ `cd <Ваша_папка>`

[personbk@onar ~]$ `pip install virtualenv --user`

[personbk@onar ~]$ `virtualenv --system-site-packages python`

[personbk@onar ~]$ `source ~/python/bin/activate`

Запустить бота через команду python и путь до файла приложения. `python ~/Ваша_папка/SKBot_telegram.py`

## **Структура проекта**

`SKBot_telegram.py` - основной файл, который запускает чат-бота
`create_bot.py` - файл с настройками API-токен и другие ключи
`requirements.txt` - файл со списком зависимостей проекта

Мой телеграм: https://t.me/YuriyBaragin









